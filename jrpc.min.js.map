{"version":3,"sources":["jrpc.browser.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","JRPC","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"options","transmitter","remoteTimeout","localTimeout","serial","discardSerial","outbox","requests","responses","inbox","localTimers","outTimers","localComponents","system.listComponents","system.extension.dual-batch","remoteComponents","exposed","params","next","bind","transmit","callback","iRes","iReq","msg","outpacket","push","pop","setImmediate","JSON","stringify","confirmTransmit","setTransmitter","err","Array","prototype","apply","receive","parse","constructor","method","forEach","deliverResponse","serveRequest","upgrade","result","methodName","request","jsonrpc","message","id","setTimeout","error","res","timeout","clearTimeout","expose","subject","name","hasOwnProperty","sendResponse","undefined","response","data","notify","Promise","promisify","callAsync","timers",2,"cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","len","run","Item","fun","array","noop","process","nextTick","args","arguments","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","cwd","chdir","dir","umask",3,"Timeout","clearFn","_id","_clearFn","Function","slice","immediateIds","nextImmediateId","setInterval","clearInterval","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","fn","clearImmediate","process/browser.js"],"mappings":"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","file":"jrpc.min.js"}