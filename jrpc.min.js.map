{"version":3,"sources":["jrpc.browser.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","JRPC","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"options","transmitter","remoteTimeout","localTimeout","serial","discardSerial","outbox","requests","responses","inbox","localTimers","outTimers","localComponents","system.listComponents","system.extension.dual-batch","remoteComponents","exposed","params","next","bind","transmit","callback","iRes","iReq","msg","outpacket","push","pop","setImmediate","JSON","stringify","confirmTransmit","setTransmitter","err","Array","prototype","apply","receive","parse","constructor","method","forEach","deliverResponse","serveRequest","upgrade","result","methodName","request","jsonrpc","message","id","setTimeout","error","res","timeout","clearTimeout","expose","subject","name","hasOwnProperty","sendResponse","undefined","response","data","Promise","promisify","callAsync","timers",2,"cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","len","run","Item","fun","array","noop","process","nextTick","args","arguments","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","cwd","chdir","dir","umask",3,"Timeout","clearFn","_id","_clearFn","Function","slice","immediateIds","nextImmediateId","setInterval","clearInterval","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","fn","clearImmediate","process/browser.js"],"mappings":"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","file":"jrpc.min.js"}